# 🏛️ 中国旅游城市随机推荐工具

一个基于Web的中国旅游城市随机推荐工具，包含121个覆盖全国各省市的值得游玩的城市及其主要玩法。

## ✨ 功能特点

- 🎲 **随机推荐**: 支持随机选择1-100个城市
- 🗺️ **全面覆盖**: 包含全国各省市的代表性旅游城市
- 🎯 **详细玩法**: 每个城市都包含具体的主要玩法推荐
- 📊 **统计信息**: 显示推荐城市的地区分布统计
- ⚙️ **筛选选项**: 支持省份筛选、同省城市控制、天气信息显示
- 🎰 **随机抽奖**: 选择困难时的随机抽奖功能
- 🌤️ **天气信息**: 显示国庆期间天气信息
- 🌐 **局域网访问**: 支持局域网内其他设备访问
- 📱 **响应式设计**: 支持手机、平板等移动设备
- 🚀 **云端部署**: 支持GitHub Pages + Railway部署

## 🚀 快速开始

### 方法一：使用启动脚本（推荐）

```bash
# 给启动脚本添加执行权限
chmod +x start_server.sh

# 启动服务器
./start_server.sh
```

### 方法二：直接运行Python服务器

```bash
# 启动服务器
python3 server.py
```

### 方法三：使用Python HTTP服务器（简单模式）

```bash
# 启动简单HTTP服务器
python3 -m http.server 8080
```

## 📋 使用说明

1. **启动服务器**后，会显示访问地址：
   - 本地访问: `http://localhost:8080`
   - 局域网访问: `http://[您的IP地址]:8080`

2. **在浏览器中打开**上述地址

3. **基本使用**：
   - 点击底部的"🎲 随机推荐"按钮获取推荐结果
   - 点击"⚙️ 筛选选项"进行个性化设置

4. **筛选选项**：
   - 设置城市数量（1-100个）
   - 选择特定省份进行筛选
   - 控制是否允许同省多个城市
   - 开启/关闭天气信息显示

5. **查看推荐结果**：
   - 包含城市名称、所属省市、地区以及主要玩法
   - 显示地区分布统计信息
   - 可选择困难时使用随机抽奖功能

6. **随机抽奖功能**：
   - 点击"🎲 选择困难点我"按钮
   - 使用简单的随机文本显示方式
   - 支持天气信息显示

## 🗂️ 文件结构

```
fun/
├── index.html              # 主页面文件（包含所有前端代码）
├── cities_data.json        # 城市数据文件（121个城市）
├── server.py              # Python HTTP服务器
├── start_server.sh        # 启动脚本
├── test_api.py           # API测试脚本
├── deploy.sh             # 部署准备脚本
├── requirements.txt      # Python依赖包
├── Procfile             # 部署配置文件
├── railway.json         # Railway部署配置
├── frontend-config.js   # 前端配置示例
├── deploy/              # 部署文件目录
│   ├── index.html
│   ├── server.py
│   ├── cities_data.json
│   ├── requirements.txt
│   ├── Procfile
│   └── railway.json
├── README.md            # 说明文档
├── 项目说明.md          # 项目总结文档
├── 部署说明.md          # 部署指南
└── 部署步骤详解.md      # 详细部署步骤
```

## 📊 数据说明

### 城市分布（共121个城市）

- **华北地区**: 北京、天津、石家庄、太原、呼和浩特、承德、秦皇岛、张家口等
- **东北地区**: 哈尔滨、长春、沈阳、大连、吉林、齐齐哈尔、牡丹江、锦州等
- **华东地区**: 上海、杭州、南京、青岛、厦门、苏州、无锡、宁波、温州、合肥等
- **华中地区**: 武汉、长沙、郑州、洛阳、南昌、九江、宜昌、襄阳、岳阳等
- **华南地区**: 广州、深圳、桂林、南宁、海口、三亚、珠海、佛山、东莞等
- **西南地区**: 成都、重庆、昆明、丽江、拉萨、贵阳、遵义、大理、西双版纳等
- **西北地区**: 西安、兰州、银川、西宁、乌鲁木齐、敦煌、嘉峪关、天水等

### 数据格式

每个城市包含以下信息：
- `name`: 城市名称
- `province`: 所属省份
- `region`: 所属地区
- `activities`: 主要玩法列表

## 🔧 技术实现

- **前端**: HTML5 + CSS3 + JavaScript (ES6+)
- **后端**: Python3 + http.server + socketserver
- **数据格式**: JSON
- **样式**: 响应式设计，支持移动端
- **部署**: GitHub Pages + Railway
- **API**: RESTful API设计，支持CORS
- **数据管理**: 智能数据加载，自动省份提取

## 🌐 局域网访问

服务器启动后，局域网内的其他设备可以通过以下方式访问：

1. 确保设备连接到同一网络
2. 使用服务器显示的局域网IP地址访问
3. 例如：`http://192.168.1.100:8080`

## 🛠️ 自定义配置

### 修改端口

在 `server.py` 文件中修改 `PORT` 变量：

```python
PORT = 8080  # 修改为您想要的端口号
```

### 添加更多城市

编辑 `cities_data.json` 文件，按照现有格式添加新的城市数据。

### 修改样式

编辑 `index.html` 文件中的 `<style>` 部分来自定义界面样式。

## 📱 移动端支持

该工具完全支持移动设备访问，界面会自动适配不同屏幕尺寸。

## 🐛 故障排除

### 常见问题

1. **端口被占用**
   - 修改 `server.py` 中的端口号
   - 或使用 `lsof -i :8080` 查看端口占用情况

2. **无法访问局域网地址**
   - 检查防火墙设置
   - 确保设备在同一网络

3. **城市数据加载失败**
   - 检查 `cities_data.json` 文件是否存在
   - 验证JSON文件格式是否正确

### 日志信息

服务器会在控制台显示详细的访问日志，包括：
- 请求时间
- 请求路径
- 客户端IP地址

## 📄 许可证

本项目采用 MIT 许可证，详见 LICENSE 文件。

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目！

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 提交 GitHub Issue
- 发送邮件至项目维护者

---

**享受您的旅行规划之旅！** 🎉
